{
	"name": "RoverBehavior",
	"events": [
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-start-of-layout",
					"objectClass": "System",
					"sid": 954088805076023
				}
			],
			"actions": [
				{
					"id": "create-object",
					"objectClass": "System",
					"sid": 344361039878133,
					"parameters": {
						"object-to-create": "RoverTarget",
						"layer": "1",
						"x": "-100",
						"y": "-100",
						"create-hierarchy": false
					}
				},
				{
					"id": "set-max-speed",
					"objectClass": "RoverPlaceholder",
					"sid": 405013244198390,
					"behaviorType": "MoveTo",
					"parameters": {
						"max-speed": "RoverPlaceholder.RoverAbsoluteMaxSpeed"
					}
				}
			],
			"sid": 202999105665634
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "mouse-button-is-down",
					"objectClass": "Mouse",
					"sid": 381425054085982,
					"parameters": {
						"mouse-button": "left"
					}
				}
			],
			"actions": [
				{
					"id": "set-position",
					"objectClass": "RoverTarget",
					"sid": 967314574822297,
					"parameters": {
						"x": "Mouse.X",
						"y": "Mouse.Y"
					}
				},
				{
					"id": "move-to-object",
					"objectClass": "RoverPlaceholder",
					"sid": 467517095850707,
					"behaviorType": "MoveTo",
					"parameters": {
						"object": "RoverTarget",
						"image-point": "0",
						"mode": "direct"
					}
				}
			],
			"sid": 856755711598844
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "every-tick",
					"objectClass": "System",
					"sid": 103463149969340
				}
			],
			"actions": [
				{
					"id": "subtract-from-eventvar",
					"objectClass": "System",
					"sid": 222219878576108,
					"parameters": {
						"variable": "BatteryEnergy",
						"value": "(RoverPlaceholder.MoveTo.Speed / RoverPlaceholder.MoveTo.MaxSpeed) * dt * 10"
					}
				},
				{
					"id": "set-position-to-another-object",
					"objectClass": "Rover",
					"sid": 301932000434326,
					"parameters": {
						"object": "RoverPlaceholder",
						"image-point-optional": "0"
					}
				},
				{
					"id": "set-angle",
					"objectClass": "Rover",
					"sid": 370945752114799,
					"parameters": {
						"angle": "RoverPlaceholder.Angle"
					}
				},
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 184016930270601,
					"parameters": {
						"variable": "RoverAngleSpeed",
						"value": "(RoverPlaceholder.MoveTo.MovingAngle-LastRoverAngle)/dt"
					}
				},
				{
					"id": "set-eventvar-value",
					"objectClass": "System",
					"sid": 566680745967665,
					"parameters": {
						"variable": "LastRoverAngle",
						"value": "RoverPlaceholder.MoveTo.MovingAngle"
					}
				},
				{
					"id": "set-position",
					"objectClass": "RoverShadow",
					"sid": 165797771887878,
					"parameters": {
						"x": "RoverPlaceholder.X + 3",
						"y": "RoverPlaceholder.Y + 3"
					}
				},
				{
					"id": "set-angle",
					"objectClass": "RoverShadow",
					"sid": 768538376519416,
					"parameters": {
						"angle": "RoverPlaceholder.Angle"
					}
				},
				{
					"id": "set-animation",
					"objectClass": "RoverShadow",
					"sid": 301338422019993,
					"parameters": {
						"animation": "Rover.AnimationName",
						"from": "beginning"
					}
				},
				{
					"id": "set-animation-frame",
					"objectClass": "RoverShadow",
					"sid": 767177670886291,
					"parameters": {
						"frame-number": "Rover.AnimationFrame"
					}
				},
				{
					"id": "set-max-speed",
					"objectClass": "RoverPlaceholder",
					"sid": 419819261237405,
					"behaviorType": "MoveTo",
					"parameters": {
						"max-speed": "RoverPlaceholder.RoverAbsoluteMaxSpeed * (BatteryEnergy / MaxBatteryEnergy)"
					}
				}
			],
			"sid": 107793892035618
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "is-moving",
					"objectClass": "RoverPlaceholder",
					"sid": 556868525232068,
					"behaviorType": "MoveTo"
				}
			],
			"actions": [
				{
					"id": "set-animation",
					"objectClass": "Rover",
					"sid": 752352443381666,
					"parameters": {
						"animation": "\"rolling\"",
						"from": "current-frame"
					}
				}
			],
			"sid": 132601009957553
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-arrived",
					"objectClass": "RoverPlaceholder",
					"sid": 502236373119033,
					"behaviorType": "MoveTo"
				}
			],
			"actions": [
				{
					"id": "set-animation",
					"objectClass": "Rover",
					"sid": 611137338120259,
					"parameters": {
						"animation": "\"still\"",
						"from": "current-frame"
					}
				}
			],
			"sid": 975517574231169
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "compare-eventvar",
					"objectClass": "System",
					"sid": 206373535942539,
					"parameters": {
						"variable": "RoverAngleSpeed",
						"comparison": 2,
						"value": "-50"
					}
				}
			],
			"actions": [
				{
					"id": "set-animation",
					"objectClass": "Rover",
					"sid": 490529487122457,
					"parameters": {
						"animation": "\"left\"",
						"from": "beginning"
					}
				}
			],
			"sid": 989591317886604
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "compare-eventvar",
					"objectClass": "System",
					"sid": 269728401978947,
					"parameters": {
						"variable": "RoverAngleSpeed",
						"comparison": 4,
						"value": "50"
					}
				}
			],
			"actions": [
				{
					"id": "set-animation",
					"objectClass": "Rover",
					"sid": 350713736902704,
					"parameters": {
						"animation": "\"right\"",
						"from": "beginning"
					}
				}
			],
			"sid": 455469305590896
		}
	],
	"sid": 438801549688592
}